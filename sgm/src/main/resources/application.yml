# actuator 监控配置
management:
  #actuator端口 如果不配置做默认使用上面8080端口
  server:
    port: 8080
  endpoints:
    web:
      exposure:
        #默认值访问health,info端点  用*可以包含全部端点
        include: "*"
      #修改访问路径 2.0之前默认是/; 2.0默认是/actuator可以通过这个属性值修改
      base-path: /actuator
  endpoint:
    shutdown:
      enabled: true #打开shutdown端点
    health:
      show-details: always #获得健康检查中所有指标的详细信息

logging:
  level:
    com.example.sgm: debug
    com.baomidou.mybatisplus.mapper: DEBUG

# DataSource Config
spring:
  freemarker:
    suffix: .ftl
  #jsp支持
  mvc:
    view:
      prefix: /WEB-INF/pages/
      suffix: .jsp
    #关闭默认模板引擎（thymeleaf）,才会支持jsp
  thymeleaf:
    cache: false
    enabled: true

  datasource:
    driver-class-name: com.p6spy.engine.spy.P6SpyDriver
    url: jdbc:p6spy:h2:mem:test
    username: root
    password: test

  #
  #    driver-class-name: org.h2.Driver
  #    username: root
  #    password: test
  sql:
    init:
      schema-locations: classpath:db/schema-h2.sql
      data-locations: classpath:db/data-h2.sql
      mode: always
  web:
    resources:
      static-locations:
        - classpath:/static/
  data:
    redis:
      host: 192.168.56.23
      password:
      port: 6379
      database: 0
#  datasource:
#    driver-class-name: com.mysql.cj.jdbc.Driver
#    url: jdbc:mysql://192.168.56.23:3306/test?characterEncoding=utf8&serverTimezone=Asia/Shanghai
#    username: root
#    password:
#    # druid 连接池管理
#    druid:
#      filter:
#        config:
#          #开启密钥加密
#          enabled: true
#        stat:
#          enabled: true
#          log-slow-sql: true
#      # 配置默认的监控统计拦截的Filter
#      # 不配置则监控页面中的SQL无法统计
#      # stat - SQL监控配置
#      # wall - SQL防火墙配置
#      # slf4j - Druid日志配置
#      filters: stat,wall,slf4j
#      # 初始化连接池大小
#      initial-size: 5
#      # 连接池最大连接数
#      max-active: 20
#      # 每个连接上PSCache的最大值
#      # 如果大于0，pool-prepared-statements自动开启
#      max-pool-prepared-statement-per-connection-size: -1
#      # 连接时最大等待时间（单位：毫秒）
#      max-wait: 60000
#      # 保持空闲连接不被关闭的最小生存时间（单位：毫秒）
#      min-evictable-idle-time-millis: 300000
#      # 连接池最小空闲数
#      min-idle: 5
#      # 是否开启PSCache，即是否缓存preparedStatement（提升写入、查询效率）
#      # 建议在支持游标的数据库开启，例如：Oracle
#      pool-prepared-statements: false
#      # 检测获取连接时的有效性
#      # 开启后会影响性能
#      test-on-borrow: false
#      # 检测归还连接时的有效性
#      # 开启后会影响性能
#      test-on-return: false
#      # 检测空闲连接
#      # 不影响性能，建议开启
#      test-while-idle: true
#      # 检测关闭空闲连接的时间间隔（单位：毫秒）
#      time-between-eviction-runs-millis: 60000
#      # 检测连接有效的SQL
#      # 为空则test-while-idle、test-on-borrow、test-on-return配置失效
#      validation-query: SELECT 1
#      # 检测连接是否有效的超时时间
#      validation-query-timeout: 1
#      stat-view-servlet:
#        # 访问白名单
#        allow: 127.0.0.1
#        # 配置统计页面
#        enabled: true
#        # 访问密码
#        login-password: 123456
#        # 访问用户名
#        login-username: root
#        # 允许重置监控数据
#        reset-enable: true
#        # 配置Servlet的访问路径：访问路径为/druid/**时，跳转到StatViewServlet，会自动转到Druid监控后台
#        url-pattern: /druid/*
#      web-stat-filter:
#        # 配置统计页面过滤
#        enabled: true
#        # 排除路径
#        exclusions: .js,*.gif,*.jpg,*.bmp,*.png,*.css,*.ico,/druid/*
#        # 开启session统计
#        session-stat-enable: true
#        # session统计的最大个数
#        session-stat-max-count: 100
#        # 过滤路径
#        url-pattern: /*

  redis:
    database: 0
    host: www.onething.top
    port: 6379
    password: 123456nw
    #配置jedis客户端，这里也可以jedis替换为lettuce客户端，下级配置都一样
    jedis:
      pool:
        # 连接池中的最大空闲连接 默认8
        max-idle: 8
        # 连接池中的最小空闲连接 默认0
        min-idle: 0
        # 连接池最大连接数 默认8 ，负数表示没有限制
        max-active: 8
        # 连接池最大阻塞等待时间（使用负值表示没有限制） 默认-1
        max-wait: -1
    timeout: 3000
  cache:
    type: redis   # 指定使用的缓存类型
    # redis:    当自定义ChacheManager时，就这里的配置不需要配置，配置了也不起作用
    #   use-key-prefix: true
    #  key-prefix: "demo:"
    #  time-to-live: 60000  #缓存超时时间 单位：ms
    #  cache-null-values: false #是否缓存空值
    cache-names: user